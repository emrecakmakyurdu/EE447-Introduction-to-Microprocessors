GPIO_PORTB_DATA 	EQU 0x40005000
		AREA	main,	READONLY,	CODE
		THUMB
		EXTERN	DELAY100
		EXTERN	DELAY5000
		EXTERN	start
		EXPORT	__main
	
__main
		BL		start
loop1	LDR		R0, =GPIO_PORTB_DATA
loop2	LDRB	R3, [R0, #0x3FC]
		BL		DELAY100
		LDR		R0, =GPIO_PORTB_DATA
		LDRB	R2, [R0, #0x3FC]
		CMP		R3, R2
		BNE		loop2
		LSL		R2, R2, #4
		LDR		R0, =GPIO_PORTB_DATA
		STRB	R2, [R0, #0x3C0]
		BL		DELAY5000
		B		loop1
	
		END