PD_INP				EQU		0X4000703C
PC_OUT				EQU		0X400063C0
GPIO_PORTC_ICR		EQU		0X4000641C
GPIO_PORTC_RIS		EQU		0X40006414	
NVIC_ST_RELOAD		EQU		0XE000E014				;24 BIT, WHEN THE COUNTER REACHES 0, IT IS RELOADED WITH THIS VALUE
NVIC_ST_CURRENT		EQU		0XE000E018				;THE CURRENT VALUE OF THE COUNTER

RELOAD_VALUE		EQU		0X20000400				;ADDRESS FOR RELOAD VALUE
TIMER5_ICR			EQU 	0x40035024 ; Timer Interrupt Clear
MAXSPEED			EQU		0X1388

			
;LABEL			DIRECTIVE	VALUE				COMMENT	
				AREA isr,	CODE,	READONLY,	ALIGN=2
				THUMB
					
				EXPORT		GPTM5A_HANDLER

GPTM5A_HANDLER	PROC
				LDR			R1,=TIMER5_ICR
				LDR			R0,[R1]
				ORR			R0,#0X01
				STR			R0,[R1]

CW				LDR			R1,=PC_OUT			;TURN THE MOTOR CLOCKWISE
				LDR			R0,[R1]
				LSL			R0,#1				;set the other pin
				CMP			R0,#0X100			;if the end is reached,
				MOVEQ		R0,#0X10			;go back to the beginning
				STR			R0,[R1]

EXIT			BX			LR
				ALIGN
				ENDP
				END
